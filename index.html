<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8" />
<title>Happy Coin - Ø³ÛŒØ³ØªÙ… Ø³Ø§Ø¯Ù‡ Ø³Ú©Ù‡ Ø³ÛŒØ§Ù‡</title>
<style>
  body {
    background: #fffbe6;
    font-family: Tahoma, sans-serif;
    text-align: center;
    padding: 40px 20px;
  }
  body.dark {
    background-color: #121212;
    color: #eee;
  }
  #coin {
    width: 150px;
    cursor: pointer;
    user-select: none;
    transition: transform 0.2s ease;
  }
  #coin.clicked {
    animation: bounce 0.3s ease;
  }
  @keyframes bounce {
    0% { transform: scale(1) rotate(0deg); }
    30% { transform: scale(1.2) translateY(-20px) rotate(20deg); }
    60% { transform: scale(1.1) translateY(10px) rotate(-20deg); }
    100% { transform: scale(1) rotate(0deg); }
  }
  #info {
    font-size: 1.5rem;
    margin-top: 20px;
    color: #444;
  }
  #shop {
    margin-top: 30px;
  }
  button {
    font-size: 1.1rem;
    padding: 10px 20px;
    background-color: #c29200;
    border: none;
    border-radius: 5px;
    color: white;
    cursor: pointer;
    margin: 5px;
  }
  button:hover {
    background-color: #a17300;
  }
</style>
</head>
<body>

<h2>Happy Coin - Ø³ÛŒØ³ØªÙ… Ø³Ø§Ø¯Ù‡ Ø³Ú©Ù‡ Ø³ÛŒØ§Ù‡</h2>
<img id="coin" src="https://i.postimg.cc/nrWTP5cb/coin-pixel.png" alt="Ø³Ú©Ù‡" onclick="addCoin()" />
<div id="info"></div>

<div id="shop">
  <h3>ğŸ›’ ÙØ±ÙˆØ´Ú¯Ø§Ù‡</h3>
  <p>ØªÙ… Ø¯Ø§Ø±Ú© Ù…ÙˆØ¯: Û³Û´ Ø³Ú©Ù‡ Ø³ÛŒØ§Ù‡</p>
  <button onclick="buyDarkMode()">Ø®Ø±ÛŒØ¯ Ø¯Ø§Ø±Ú© Ù…ÙˆØ¯</button>
  <button onclick="toggleDarkMode()">ØªØºÛŒÛŒØ± ØªÙ…</button>
</div>

<script>
  let data = JSON.parse(localStorage.getItem("simpleCoinData") || '{"clicks":0,"blackCoins":0,"darkModeBought":false,"darkModeActive":false}');

  function updateDisplay() {
    document.getElementById("info").innerText = 
      `Ú©Ù„ÛŒÚ©: ${data.clicks} | Ø³Ú©Ù‡ Ø³ÛŒØ§Ù‡: ${data.blackCoins}`;
  }

  function addCoin() {
    data.clicks++;
    if (data.clicks % 15 === 0) {
      data.blackCoins++;
      alert("ØªØ¨Ø±ÛŒÚ©! 1 Ø³Ú©Ù‡ Ø³ÛŒØ§Ù‡ Ú¯Ø±ÙØªÛŒ!");
    }
    localStorage.setItem("simpleCoinData", JSON.stringify(data));
    updateDisplay();

    let coin = document.getElementById("coin");
    coin.classList.add("clicked");
    setTimeout(() => coin.classList.remove("clicked"), 300);
  }

  function buyDarkMode() {
    if (data.blackCoins >= 34) {
      data.blackCoins -= 34;
      data.darkModeBought = true;
      data.darkModeActive = true;
      localStorage.setItem("simpleCoinData", JSON.stringify(data));
      updateDisplay();
      updateDarkMode();
      alert("ØªÙ… Ø¯Ø§Ø±Ú© Ù…ÙˆØ¯ Ø®Ø±ÛŒØ¯Ø§Ø±ÛŒ Ùˆ ÙØ¹Ø§Ù„ Ø´Ø¯!");
    } else {
      alert("Ø³Ú©Ù‡ Ø³ÛŒØ§Ù‡ Ú©Ø§ÙÛŒ Ù†ÛŒØ³Øª!");
    }
  }

  function toggleDarkMode() {
    if (data.darkModeBought) {
      data.darkModeActive = !data.darkModeActive;
      localStorage.setItem("simpleCoinData", JSON.stringify(data));
      updateDarkMode();
    } else {
      alert("Ø§Ø¨ØªØ¯Ø§ Ø¨Ø§ÛŒØ¯ ØªÙ… Ø¯Ø§Ø±Ú© Ù…ÙˆØ¯ Ø±Ø§ Ø¨Ø®Ø±ÛŒ!");
    }
  }

  function updateDarkMode() {
    if (data.darkModeActive) {
      document.body.classList.add("dark");
    } else {
      document.body.classList.remove("dark");
    }
  }

  updateDisplay();
  updateDarkMode();
</script>

</body>
</html>
